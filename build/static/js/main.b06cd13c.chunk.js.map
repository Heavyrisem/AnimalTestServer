{"version":3,"sources":["components/DarkMode.tsx","components/Message.tsx","components/UserInput.tsx","Master.tsx","index.tsx"],"names":["DarkMode","props","Switch","state","Dark","window","matchMedia","matches","this","ChangeMode","addEventListener","e","to","document","documentElement","setAttribute","setState","className","ref","type","checked","onClick","readOnly","React","Component","Message","Comp","scrollIntoView","behavior","isBot","context","UserInput","Selector","Selected","defaultValue","onChange","value","disabled","AnswerList","map","Answer","idx","OnAnswer","Master","UserAnswerTurn","CurrentStep","MaxStep","Messages","Scores","a","fetch","Config","Endpoint","method","ServerResponse","json","TestInfo","Ment","Msg","push","content","concat","Questions","GetQuestion","body","JSON","stringify","QuestionNo","headers","Question","question","answer","console","log","UserAnswer","Result","answerResult","Finish","AnimalResult","ResultMessage","Name","Desc","style","height","bind","ReactDOM","render","getElementById"],"mappings":"sSA8CeA,E,kDApCX,WAAYC,GAAa,IAAD,8BACpB,cAAMA,IAHVC,OAAkC,KAI9B,EAAKC,MAAQ,CACTC,KAAMC,OAAOC,WAAW,gCAAgCC,SAHxC,E,qDAOxB,WAAqB,IAAD,OAChBC,KAAKC,WAAWJ,OAAOC,WAAW,gCAAgCC,SAClEF,OAAOC,WAAW,gCAAgCI,iBAAiB,UAAU,SAAAC,GACzE,EAAKF,WAAWJ,OAAOC,WAAW,gCAAgCC,c,wBAI1E,SAAWK,GACHA,EACAC,SAASC,gBAAgBC,aAAa,aAAc,QAEpDF,SAASC,gBAAgBC,aAAa,aAAc,SAExDP,KAAKQ,SAAS,CACVZ,KAAMQ,M,oBAId,WAAU,IAAD,OACL,OACI,wBAAOK,UAAU,gBAAjB,UACI,uBAAOC,IAAK,SAACP,GAAK,EAAKT,OAASS,GAAIQ,KAAK,WAAWC,QAASZ,KAAKL,MAAMC,KAAMiB,QAAS,WAAO,EAAKZ,YAAY,EAAKN,MAAMC,OAAQkB,UAAQ,IAC1I,sBAAML,UAAU,wB,GAhCTM,IAAMC,WCsBdC,G,kNApBXC,KAA8B,K,uDAC9B,WAGQlB,KAAKkB,MACLlB,KAAKkB,KAAKC,eAAe,CAACC,SAAU,a,oBAI5C,WAAU,IAAD,OACL,OACI,sBAAKV,IAAK,SAACP,GAAK,EAAKe,KAAKf,GAAIM,UAAU,UAAxC,UACI,qBAAKA,WAAaT,KAAKP,MAAM4B,MAAgB,GAAT,UAAe,cACnD,qBAAKZ,UAAU,MAAf,SAAsBT,KAAKP,MAAM6B,iB,GAd3BP,IAAMC,YCoCbO,E,kDA5BX,WAAY9B,GAAe,IAAD,8BACtB,cAAMA,IAHV+B,SAAmC,KAI/B,EAAK7B,MAAQ,CACT8B,SAAU,IAHQ,E,0CAO1B,WAAU,IAAD,OACL,OACI,sBAAKhB,UAAU,UAAf,UACI,qBAAKA,UAAU,oBACf,sBAAKA,UAAU,MAAf,UACI,yBAAQiB,aAAa,GAAGhB,IAAK,SAACP,GAAK,EAAKqB,SAASrB,GAAIwB,SAAU,WAAK,EAAKnB,SAAS,CAAEiB,SAAW,EAAKD,SAA+BI,SAAnI,UACI,wBAAQA,MAAM,GAAGC,UAAQ,EAAzB,0BAEI7B,KAAKP,MAAMqC,WAAWC,KAAI,SAACC,EAAQC,GAC/B,OAAO,wBAAkBL,MAAOI,EAAzB,SAAkCA,GAArBC,SAIhC,sBAAMxB,UAAU,aAAaI,QAAS,WAAK,EAAKpB,MAAMyC,SAAS,EAAKvC,MAAM8B,WAA1E,oC,GAxBIV,IAAMC,W,OCoJfmB,E,kDAxIX,WAAY1C,GAAa,IAAD,8BACpB,cAAMA,IACDE,MAAQ,CACTyC,gBAAgB,EAChBC,YAAa,EACbC,QAAS,EACTC,SAAU,GACVT,WAAY,GACZU,OAAQ,IARQ,E,4FAYxB,6CAAAC,EAAA,sEACiCC,MAAM,GAAD,OAAIC,EAAOC,SAAX,gBAAmC,CACjEC,OAAQ,SAFhB,cACUC,EADV,gBAImFA,EAAeC,OAJlG,OAIUC,EAJV,OAKQT,EAA4B,GALpC,cAOsBS,EAASC,MAP/B,IAOI,2BAAWC,EAAsB,QAC7BX,EAASY,KAAK,CACVC,QAASF,EACT7B,OAAO,IAVnB,8BAcIrB,KAAKQ,SAAS,CACV+B,SAAUvC,KAAKL,MAAM4C,SAASc,OAAOd,GACrCD,QAASU,EAASM,UAAU,EAC5BlB,gBAAgB,IACjB,WACC,EAAKmB,iBAnBb,iD,sHAuBA,8BAAAd,EAAA,sEACiCC,MAAM,GAAD,OAAIC,EAAOC,SAAX,gBAAmC,CACjEC,OAAQ,OACRW,KAAMC,KAAKC,UAAU,CACjBC,WAAY3D,KAAKL,MAAM0C,cAE3BuB,QAAS,CAAC,eAAe,sBANjC,cACUd,EADV,gBAQsFA,EAAeC,OARrG,QAQUc,EARV,QASiBC,UAAYD,EAASE,QAC9B/D,KAAKQ,SAAS,CACV4B,gBAAgB,EAChBG,SAAUvC,KAAKL,MAAM4C,SAASc,OAAO,CAACD,QAASS,EAASC,SAAUzC,OAAO,IACzES,WAAY+B,EAASE,SAG7BC,QAAQC,IAAIJ,GAhBhB,gD,qHAmBA,WAAiBE,GAAjB,wBAAAtB,EAAA,yDACkB,IAAVsB,EADR,uBAEQ/D,KAAKQ,SAAS,CACV4B,gBAAgB,EAChBG,SAAUvC,KAAKL,MAAM4C,SAASc,OAAO,CAACD,QAASW,EAAQ1C,OAAO,MAJ1E,SAMqCqB,MAAM,GAAD,OAAIC,EAAOC,SAAX,WAA8B,CAC5DC,OAAQ,OACRW,KAAMC,KAAKC,UAAU,CACjBC,WAAY3D,KAAKL,MAAM0C,YACvB6B,WAAYH,IAEhBH,QAAS,CAAC,eAAe,sBAZrC,cAMcd,EANd,gBAc2EA,EAAeC,OAd1F,QAccoB,EAdd,QAemBC,cACPpE,KAAKQ,SAAS,CACV6B,YAAarC,KAAKL,MAAM0C,YAAY,EACpCG,OAAQxC,KAAKL,MAAM6C,OAAOa,OAAOc,EAAOC,gBACzC,WACK,EAAKzE,MAAM2C,QAAU,EAAK3C,MAAM0C,YAChC,EAAKgC,SAEL,EAAKd,iBAvBzB,gD,kHA6BA,gCAAAd,EAAA,sEACiCC,MAAM,GAAD,OAAIC,EAAOC,SAAX,cAAiC,CAC/DC,OAAQ,OACRW,KAAMC,KAAKC,UAAU,CACjBlB,OAAQxC,KAAKL,MAAM6C,SAEvBoB,QAAS,CAAC,eAAgB,sBANlC,cACUd,EADV,gBAQ6DA,EAAeC,OAR5E,OAQUuB,EARV,OAUUC,EAAiC,CACnC,CACInB,QAAQ,mGAAD,OAA0BkB,EAAaE,KAAvC,KACPnD,OAAO,GAEX,CACI+B,QAASkB,EAAaG,KACtBpD,OAAO,IAQfrB,KAAKQ,SAAS,CACV+B,SAAUvC,KAAKL,MAAM4C,SAASc,OAAOkB,KA1B7C,gD,0EA8BA,WACI,OACI,sBAAKG,MAAO,CAACC,OAAQ,QAArB,UACI,mCACI,sBAAMlE,UAAU,QAAhB,mBACA,yBACA,+BAAM,cAAC,EAAD,SAEV,sBAAKA,UAAU,UAAf,UAEQT,KAAKL,MAAM4C,SAASR,KAAI,SAAC+B,EAAU7B,GAC/B,OAAO,cAAC,EAAD,CAAmBZ,MAAOyC,EAASzC,MAAOC,QAASwC,EAASV,SAA9CnB,MAG5BjC,KAAKL,MAAMyC,gBAAiB,cAAC,EAAD,CAAWF,SAAUlC,KAAKkE,WAAWU,KAAK5E,MAAO8B,WAAY9B,KAAKL,MAAMmC,uB,GAjIpGf,IAAMC,WCjB3B6D,IAASC,OACP,cAAC,EAAD,IACAzE,SAAS0E,eAAe,U","file":"static/js/main.b06cd13c.chunk.js","sourcesContent":["import React from 'react';\r\nimport '../css/DarkMode.css';\r\n\r\ninterface state {\r\n    Dark: boolean\r\n}\r\n\r\nclass DarkMode extends React.Component<any, state> {\r\n    Switch: HTMLInputElement | null = null;\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            Dark: window.matchMedia('(prefers-color-scheme: dark)').matches\r\n        }\r\n    }\r\n\r\n    componentDidMount() {\r\n        this.ChangeMode(window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', e => {\r\n            this.ChangeMode(window.matchMedia('(prefers-color-scheme: dark)').matches);\r\n        })\r\n    }\r\n\r\n    ChangeMode(to: boolean) {\r\n        if (to) {\r\n            document.documentElement.setAttribute(\"data-theme\", \"dark\");\r\n        } else {\r\n            document.documentElement.setAttribute(\"data-theme\", \"light\");\r\n        }\r\n        this.setState({\r\n            Dark: to\r\n        })\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <label className=\"DarkModSwitch\">\r\n                <input ref={(e)=>{this.Switch = e}} type=\"checkbox\" checked={this.state.Dark} onClick={() => {this.ChangeMode(!this.state.Dark)}} readOnly/>\r\n                <span className=\"Slider round\"></span>\r\n            </label>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default DarkMode;","import React from 'react';\r\nimport '../css/Message.css';\r\n\r\ninterface props {\r\n    isBot: boolean,\r\n    context: string\r\n}\r\n\r\nclass Message extends React.Component<props, any> {\r\n    Comp: HTMLDivElement | null = null;\r\n    componentDidMount() {\r\n        // MountAnimation\r\n        // Focus\r\n        if (this.Comp) {\r\n            this.Comp.scrollIntoView({behavior: \"smooth\"});\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div ref={(e)=>{this.Comp=e}} className=\"Message\">\r\n                <div className={(!this.props.isBot? \"Black \":\"\") + \"MsgBefore\"}></div>\r\n                <div className=\"Msg\">{this.props.context}</div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Message;","import React from 'react';\r\nimport '../css/Message.css';\r\n\r\ninterface props {\r\n    AnswerList: Array<string>,\r\n    OnAnswer: Function\r\n}\r\n\r\ninterface state {\r\n    Selected: string\r\n}\r\n\r\nclass UserInput extends React.Component<props, state> {\r\n\r\n    Selector: HTMLSelectElement|null = null;\r\n\r\n    constructor(props: props) {\r\n        super(props);\r\n        this.state = {\r\n            Selected: \"\"\r\n        }\r\n    }\r\n\r\n    render() {\r\n        return (\r\n            <div className=\"Message\">\r\n                <div className=\"MsgBefore Black\"></div>\r\n                <div className=\"Msg\">\r\n                    <select defaultValue=\"\" ref={(e)=>{this.Selector=e}} onChange={()=>{this.setState({ Selected: (this.Selector as HTMLSelectElement).value })}} >\r\n                        <option value=\"\" disabled>선택</option>\r\n                        {\r\n                            this.props.AnswerList.map((Answer, idx) => {\r\n                                return <option key={idx} value={Answer}>{Answer}</option>\r\n                            })\r\n                        }\r\n                    </select>\r\n                    <span className=\"UserSubmit\" onClick={()=>{this.props.OnAnswer(this.state.Selected);}}>제출</span>\r\n                </div>\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default UserInput;","import React from 'react';\r\nimport DarkMode from './components/DarkMode';\r\nimport Message from './components/Message';\r\nimport UserInput from './components/UserInput';\r\n\r\nimport Data from './Data.json';\r\nimport Config from './Config.json';\r\n\r\ninterface state {\r\n    UserAnswerTurn: boolean,\r\n    CurrentStep: number,\r\n    MaxStep: number,\r\n    Messages: Array<MessageT>,\r\n    AnswerList: Array<string>,\r\n    Scores: Array<string>\r\n}\r\n\r\ninterface MessageT {\r\n    content: string,\r\n    isBot: boolean\r\n}\r\n\r\nclass Master extends React.Component<any, state> {\r\n\r\n    constructor(props: any) {\r\n        super(props);\r\n        this.state = {\r\n            UserAnswerTurn: false,\r\n            CurrentStep: 0,\r\n            MaxStep: 0,\r\n            Messages: [],\r\n            AnswerList: [],\r\n            Scores: []\r\n        }\r\n    }\r\n\r\n    async componentDidMount() {\r\n        const ServerResponse = await fetch(`${Config.Endpoint}/GetTestInfo`, {\r\n            method: \"POST\"\r\n        });\r\n        const TestInfo: {Name: string, Questions: number, Ment: Array<string>} = await ServerResponse.json();\r\n        let Messages: Array<MessageT> = [];\r\n\r\n        for (const Msg of TestInfo.Ment) {\r\n            Messages.push({\r\n                content: Msg,\r\n                isBot: true\r\n            })\r\n        }\r\n\r\n        this.setState({\r\n            Messages: this.state.Messages.concat(Messages),\r\n            MaxStep: TestInfo.Questions-1,\r\n            UserAnswerTurn: true\r\n        }, () => {\r\n            this.GetQuestion();\r\n        })\r\n    }\r\n\r\n    async GetQuestion() {\r\n        const ServerResponse = await fetch(`${Config.Endpoint}/GetQuestion`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                QuestionNo: this.state.CurrentStep\r\n            }),\r\n            headers: {'content-type':'application/json'}\r\n        })\r\n        const Question: {question?: string, answer?: Array<string>, err?: string} = await ServerResponse.json();\r\n        if (Question.question && Question.answer) {\r\n            this.setState({\r\n                UserAnswerTurn: true,\r\n                Messages: this.state.Messages.concat({content: Question.question, isBot: true}),\r\n                AnswerList: Question.answer\r\n            }, );\r\n        }\r\n        console.log(Question);\r\n    }\r\n\r\n    async UserAnswer(answer: string) {\r\n        if (answer != \"\") {\r\n            this.setState({\r\n                UserAnswerTurn: false,\r\n                Messages: this.state.Messages.concat({content: answer, isBot: false})\r\n            });\r\n            const ServerResponse = await fetch(`${Config.Endpoint}/Answer`, {\r\n                method: \"POST\",\r\n                body: JSON.stringify({\r\n                    QuestionNo: this.state.CurrentStep,\r\n                    UserAnswer: answer\r\n                }),\r\n                headers: {'content-type':'application/json'}\r\n            })\r\n            const Result: {answerResult?: Array<string>, err?: string} = await ServerResponse.json();\r\n            if (Result.answerResult) {\r\n                this.setState({\r\n                    CurrentStep: this.state.CurrentStep+1,\r\n                    Scores: this.state.Scores.concat(Result.answerResult)\r\n                }, () => {\r\n                    if (this.state.MaxStep < this.state.CurrentStep)\r\n                        this.Finish();\r\n                    else\r\n                        this.GetQuestion();\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    async Finish() {\r\n        const ServerResponse = await fetch(`${Config.Endpoint}/GetResult`, {\r\n            method: \"POST\",\r\n            body: JSON.stringify({\r\n                Scores: this.state.Scores\r\n            }),\r\n            headers: {'content-type': 'application/json'}\r\n        });\r\n        const AnimalResult: {Name: string, Desc: string} = await ServerResponse.json();\r\n\r\n        const ResultMessage: Array<MessageT> = [\r\n            {\r\n                content: `축하합니다! 결과는 다음과 같습니다. ${AnimalResult.Name}!`,\r\n                isBot: true\r\n            },\r\n            {\r\n                content: AnimalResult.Desc,\r\n                isBot: true\r\n            }\r\n            // ,{\r\n            //     content: `${AnimalResult.Name}은 `,\r\n            //     isBot: true\r\n            // }\r\n        ]\r\n        \r\n        this.setState({\r\n            Messages: this.state.Messages.concat(ResultMessage)\r\n        })\r\n    }\r\n    \r\n    render() {\r\n        return (\r\n            <div style={{height: \"100%\"}}>\r\n                <header>\r\n                    <span className=\"Title\">Swift</span>\r\n                    <span></span>\r\n                    <span><DarkMode /></span>\r\n                </header>\r\n                <div className=\"ChatBox\">\r\n                    {\r\n                        this.state.Messages.map((question, idx) => {\r\n                            return <Message key={idx} isBot={question.isBot} context={question.content} />\r\n                        })\r\n                    }\r\n                    {this.state.UserAnswerTurn&& <UserInput OnAnswer={this.UserAnswer.bind(this)} AnswerList={this.state.AnswerList} />}\r\n                </div>\r\n\r\n            </div>\r\n        )\r\n    }\r\n\r\n}\r\n\r\nexport default Master;","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './index.css';\r\nimport Master from './Master';\r\n\r\nReactDOM.render(\r\n  <Master />,\r\n  document.getElementById('root')\r\n);\r\n\r\n"],"sourceRoot":""}