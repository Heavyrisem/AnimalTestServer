(this.webpackJsonpanimaltest=this.webpackJsonpanimaltest||[]).push([[0],{10:function(e,t,n){},17:function(e,t,n){},19:function(e,t,n){},21:function(e,t,n){"use strict";n.r(t);var s=n(1),a=n.n(s),r=n(11),c=n.n(r),i=(n(17),n(2)),o=n.n(i),u=n(12),h=n(7),l=n(3),d=n(4),p=n(6),f=n(5),j=(n(19),n(0)),m=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).Switch=null,s.state={Dark:window.matchMedia("(prefers-color-scheme: dark)").matches},s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.ChangeMode(window.matchMedia("(prefers-color-scheme: dark)").matches),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(function(t){e.ChangeMode(window.matchMedia("(prefers-color-scheme: dark)").matches)}))}},{key:"ChangeMode",value:function(e){e?document.documentElement.setAttribute("data-theme","dark"):document.documentElement.setAttribute("data-theme","light"),this.setState({Dark:e})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("label",{className:"DarkModSwitch",children:[Object(j.jsx)("input",{ref:function(t){e.Switch=t},type:"checkbox",checked:this.state.Dark,onClick:function(){e.ChangeMode(!e.state.Dark)},readOnly:!0}),Object(j.jsx)("span",{className:"Slider round"})]})}}]),n}(a.a.Component),b=(n(10),function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(){var e;Object(l.a)(this,n);for(var s=arguments.length,a=new Array(s),r=0;r<s;r++)a[r]=arguments[r];return(e=t.call.apply(t,[this].concat(a))).Comp=null,e}return Object(d.a)(n,[{key:"componentDidMount",value:function(){this.Comp&&this.Comp.scrollIntoView({behavior:"smooth"})}},{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{ref:function(t){e.Comp=t},className:"Message",children:[Object(j.jsx)("div",{className:(this.props.isBot?"":"Black ")+"MsgBefore"}),Object(j.jsx)("div",{className:"Msg",children:this.props.context})]})}}]),n}(a.a.Component)),O=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).Selector=null,s.state={Selected:""},s}return Object(d.a)(n,[{key:"render",value:function(){var e=this;return Object(j.jsxs)("div",{className:"Message",children:[Object(j.jsx)("div",{className:"MsgBefore Black"}),Object(j.jsxs)("div",{className:"Msg",children:[Object(j.jsxs)("select",{defaultValue:"",ref:function(t){e.Selector=t},onChange:function(){e.setState({Selected:e.Selector.value})},children:[Object(j.jsx)("option",{value:"",disabled:!0,children:"\uc120\ud0dd"}),this.props.AnswerList.map((function(e,t){return Object(j.jsx)("option",{value:e,children:e},t)}))]}),Object(j.jsx)("span",{className:"UserSubmit",onClick:function(){e.props.OnAnswer(e.state.Selected)},children:"\uc81c\ucd9c"})]})]})}}]),n}(a.a.Component),v=n(8),x=function(e){Object(p.a)(n,e);var t=Object(f.a)(n);function n(e){var s;return Object(l.a)(this,n),(s=t.call(this,e)).state={UserAnswerTurn:!0,CurrentStep:0,MaxStep:0,Messages:[],AnswerList:[],Scores:[]},s}return Object(d.a)(n,[{key:"componentDidMount",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t,n,s,a,r,c,i=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v.Endpoint,"/GetTestInfo"),{method:"POST"});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s=[],a=Object(u.a)(n.Ment);try{for(a.s();!(r=a.n()).done;)c=r.value,s.push({content:c,isBot:!0})}catch(o){a.e(o)}finally{a.f()}this.setState({Messages:this.state.Messages.concat(s),MaxStep:n.Questions-1},(function(){i.GetQuestion()}));case 10:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"GetQuestion",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t,n;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v.Endpoint,"/GetQuestion"),{method:"POST",body:JSON.stringify({QuestionNo:this.state.CurrentStep}),headers:{"content-type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:(n=e.sent).question&&n.answer&&this.setState({UserAnswerTurn:!0,Messages:this.state.Messages.concat({content:n.question,isBot:!0}),AnswerList:n.answer}),console.log(n);case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"UserAnswer",value:function(){var e=Object(h.a)(o.a.mark((function e(t){var n,s,a=this;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(""==t){e.next=9;break}return this.setState({UserAnswerTurn:!1}),e.next=4,fetch("".concat(v.Endpoint,"/Answer"),{method:"POST",body:JSON.stringify({QuestionNo:this.state.CurrentStep,UserAnswer:t}),headers:{"content-type":"application/json"}});case 4:return n=e.sent,e.next=7,n.json();case 7:(s=e.sent).answerResult&&this.setState({CurrentStep:this.state.CurrentStep+1,Messages:this.state.Messages.concat({content:t,isBot:!1}),Scores:this.state.Scores.concat(s.answerResult)},(function(){a.state.MaxStep<a.state.CurrentStep?a.Finish():a.GetQuestion()}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"Finish",value:function(){var e=Object(h.a)(o.a.mark((function e(){var t,n,s;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("".concat(v.Endpoint,"/GetResult"),{method:"POST",body:JSON.stringify({Score:this.state.Scores}),headers:{"content-type":"application/json"}});case 2:return t=e.sent,e.next=5,t.json();case 5:n=e.sent,s=[{content:"\ucd95\ud558\ud569\ub2c8\ub2e4! \uacb0\uacfc\ub294 \ub2e4\uc74c\uacfc \uac19\uc2b5\ub2c8\ub2e4. ".concat(n.Name,"!"),isBot:!0},{content:n.Desc,isBot:!0}],this.setState({Messages:this.state.Messages.concat(s)});case 8:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){return Object(j.jsxs)("div",{style:{height:"100%"},children:[Object(j.jsxs)("header",{children:[Object(j.jsx)("span",{className:"Title",children:"Swift"}),Object(j.jsx)("span",{}),Object(j.jsx)(m,{})]}),Object(j.jsxs)("div",{className:"ChatBox",children:[this.state.Messages.map((function(e,t){return Object(j.jsx)(b,{isBot:e.isBot,context:e.content},t)})),this.state.UserAnswerTurn&&Object(j.jsx)(O,{OnAnswer:this.UserAnswer.bind(this),AnswerList:this.state.AnswerList})]})]})}}]),n}(a.a.Component);c.a.render(Object(j.jsx)(x,{}),document.getElementById("root"))},8:function(e){e.exports=JSON.parse('{"Endpoint":"https://animal.heavyrsiem.xyz"}')}},[[21,1,2]]]);
//# sourceMappingURL=main.6fbea6f9.chunk.js.map